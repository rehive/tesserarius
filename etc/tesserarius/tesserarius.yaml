version: 1
staging:
  gcloud:
    project: rehive-services
    zone: europe-west1-c
  kubernetes:
    cluster: staging
    namespace: tesserarius-staging
extensions:
  serviceAccount:
  - name: service-product-media
    displayName: "Product Service Media Writer"
    description: "Service account for the Product Service to write to the Media Bucket"
    role: product.media.writer
  - name: service-product-staging
    displayName: "Product Service Admin"
    description: "Default Service account for the Product Service"
    role: product.default.user
  - name: service-test-media
    displayName: "Test Service Media Writer"
    description: "Service account for the Test Service to write to the Media Bucket"
    role: test.media.writer
  - name: service-product-staging-media
    displayName: "Product Service Media Writer"
    description: "Service Account for the Product Service on staging to write to the Media Bucket"
    role: product.media.writer
  - name: service-builder-staging-wale
    displayName: "Builder Service Postgres Writer"
    description: "Service Account for the Builder Service on staging to write backups for the wal-E bucket"
    role: extensions.bucket.writer
  - name: service-builder-wale
    displayName: "Builder Service Postgres Writer"
    description: "Service Account for the Builder Service on staging to write backups for the wal-E bucket"
    role: extensions.bucket.writer
  - name: service-billing-wale
    displayName: "Builder Service Postgres Writer"
    description: "Service Account for the Billing Service on production to write backups for the wal-E bucket"
    role: extensions.bucket.writer
  - name: service-billing-staging-wale
    displayName: "Billing Service Postgres Writer"
    description: "Service Account for the Billing Service on staging to write backups for the wal-E bucket"
    role: extensions.bucket.writer
  bindings:
  - members:
    - user:bjorn@rehive.com
    - user:connor@rehive.com
    - user:matthew@rehive.com
    - user:michael@rehive.com
    role: projects/rehive-services/roles/extensions.team.developer
platform:
  serviceAccount:
  - name: platform-pgbackup
    displayName: "Platform Developer"
    description: "Service Account for the Platform Developer"
    role: patroni.backup.writer
  bindings:
  - members:
    - user:connor@rehive.com
    - user:matthew@rehive.com
    role: projects/rehive-core/roles/platform.team.developer
