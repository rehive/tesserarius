version: 1
staging:
  gcloud:
    project: rehive-services
    zone: europe-west1-c
  kubernetes:
    cluster: staging
    namespace: tesserarius-staging
extensions:
  serviceAccount:
  - name: service-product-media
    displayName: "Product Service Media Writer"
    description: "Service account for the Product Service to write to the Media Bucket"
    role: product.media.writer
  - name: service-product-staging
    displayName: "Product Service Admin"
    description: "Default Service account for the Product Service"
    role: product.default.user
  - name: service-test-media
    displayName: "Test Service Media Writer"
    description: "Service account for the Test Service to write to the Media Bucket"
    role: test.media.writer
  - name: service-product-media-staging
    displayName: "Product Service Media Writer"
    description: "Service Account for the Product Service on staging to write to the Media Bucket"
    role: product.media.writer
  role:
  - name: service.media.writer
    title: ""
    description: "Role for writing the Patroni backups to GCS Buckets"
  - name: extensions.team.developer
    stage: "ALPHA"
    title: "Extensions Team Developer"
    description: "Developer role for GCP Users. Based on: Kubernetes Engine Developer"
    permissions:
      - roles/container.developer
      - serviceusage.services.usage
platform:
  serviceAccount:
  - name: platform-pgbackup
    displayName: "Platform Developer"
    description: "Service Account for the Platform Developer"
    role: patroni.backup.writer
  role:
  - name: patroni.backup.writer
    title: "Platform Postgres Backup Writer"
    description: "Role for writing the Patroni backups to GCS Buckets"
